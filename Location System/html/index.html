<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title class="i18n" name='i_pageTitle'></title>
    <meta id="i18n_pagename" content="common">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="../image/logo/favicon.ico" type="image/x-icon" />
    <!--Jquery-->
    <!--<link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">-->
    <link rel="stylesheet" type="text/css" href="../css/import/jquery-ui.css" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>-->

    <!--<script type="text/javascript" src="../js/import/jquery.min.3.3.1.js"></script>-->
    <!--BootStrap3-->
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.4.0/css/bootstrap.min.css">
    <!--<link rel="stylesheet" type="text/css" href="../css/import/bootstrap.css" />-->
    <script type="text/javascript" src="../js/import/bootstrap.min.js"></script>
    <!--<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>-->
    <!--Add icon library-->
    <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
        integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <!--Icon Navbar-->
    <link rel="stylesheet" type="text/css" href="../css/icon_navbar/animate.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/icon_navbar/menu2.css" />
    <!--Edit css-->
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
    <link rel="stylesheet" type="text/css" href="../css/login_user.css" />
    <link rel="stylesheet" type="text/css" href="../css/index_style.css" />
    <link rel="stylesheet" type="text/css" href="../css/index_data_sidebar.css" />
    <link rel="stylesheet" type="text/css" href="../css/index_alarm_sidebar.css" />
    <link rel="stylesheet" type="text/css" href="../css/slider.css" />
    <link rel="stylesheet" type="text/css" href="../css/switch_design.css" />
    <!--Data Table-->
    <!--<link rel="stylesheet" href="https://cdn.datatables.net/v/dt/dt-1.10.18/datatables.min.css" />-->
    <!--<script src="https://cdn.datatables.net/v/dt/dt-1.10.18/datatables.min.js"></script>-->
    <link rel="stylesheet" type="text/css" href="../css/import/datatables.min.css" />
    <script type="text/javascript" src="../js/import/datatables.min.js"></script>
    <!--Cookie-->
    <!--<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>-->
    <script type="text/javascript" src="../js/import/js.cookie.min.js"></script>
    <!--Edit js-->
    <script type="text/javascript" src="../js/hammer/hammer.min.js"></script>
    <script type="text/javascript" src="../js/general_functions.js"></script>
    <script type="text/javascript" src="../js/check_permission.js"></script>
    <script type="text/javascript" src="../js/sidebar.js"></script>
    <script type="text/javascript" src="../js/table_filter.js"></script>
    <script type="text/javascript" src="../js/draw_canvas.js"></script>
    <script type="text/javascript" src="../js/rtls_get_data.js"></script>
    <script type="text/javascript" src="../js/rtls_set_canvas.js"></script>
    <script type="text/javascript" src="../js/rtls_dialog.js"></script>
    <!--JQuery UI - Dialog-->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <!--<script type="text/javascript" src="../js/import/jquery-ui.js"></script>-->
</head>

<body>
    <div class="container">
        <!--icon navbar-->
        <div id="icon_navbar">
            <aside class="menu">
                <div v-bind:class="['menu-left', lock_state == 'unlocked' ? '' : 'locked']">
                    <nav class="sidebar">
                        <ul class="nav">
                            <li v-for="(page, pageName) in parentPages" v-bind:class="{ 'active' : page.isActive }">
                                <a v-bind:href="page.isActive ? '#' : page.href"><i v-bind:class="page.icon"></i>
                                    <span>{{ i18n(page.text) }}</span>
                                </a>
                            </li>
                            <hr>
                            <li v-for="(page, pageName) in childPages"
                                v-bind:class="[page.class, { 'active' : page.isActive }]">
                                <a v-bind:href="page.href"><i v-bind:class="page.icon" name="child_icon"></i>
                                    <span>{{ i18n(page.text) }}</span>
                                </a>
                            </li>
                            <hr>
                            <li class="lock">
                                <a href="javascript: sidebarVue.lock();">
                                    <i v-bind:class="['fas', lock_state == 'unlocked' ? 'fa-lock-open' : 'fa-lock']">
                                    </i><span>{{ lock_state == 'unlocked' ? i18n('i_unlock') : i18n('i_lock') }}</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </aside>
        </div>

        <!--Web content-->
        <div class="row">
            <div class="col-lg-12 top_nav">
                <img class="logo" src="../image/logo/yihong_logo.png">
                <label id="login_user" v-html="getUser()"></label>
            </div>

            <div class="tool-bar">
                <label class="i18n" name="i_language"></label>
                <select id="language" class="select-lang">
                    <option value="en">English</option>
                    <option value="zh-TW">繁體中文</option>
                    <option value="zh-CN">简体中文</option>
                </select>
                <div class="dropdown" style="margin-right: 10px;">
                    <span class="btn-set i18n-input" selectattr="title" selectname="i_setting">
                        <i class="fas fa-cog"></i></span>
                    <div class="dropdown-content" style="left:-130px;">
                        <a id="btn_adjust_focus" class="i18n" name="i_adjustDisplay"></a>
                        <a id="btn_display_size" class="i18n" name="i_adjustIconSize"></a>
                        <a id="btn_separate_canvas" class="i18n" name="i_multiWindowMode"></a>
                    </div>
                </div>

            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <!--Left (Alarm) Sidebar-->
                <div class="alarm-sideBar">
                    <div class="sideBar-left-button">
                        <button id="btn_sort_alarm" class="btn btn-default i18n-input" selectattr="title"
                            selectname="i_lastestTop" onclick="sortAlarm();"><i class="fas fa-sort-amount-up"></i>
                        </button>
                        <!--<button class="btn btn-default i18n-input" selectattr="title" selectname="i_releasePosition"
                                onclick="unlockFocusAlarm();" style="width:30px; padding:3px !important;">
                                <img class="icon-image" src="../image/release_position.png">
                            </button>-->
                    </div>
                    <div class="sideBar-left">
                        <div class="thumbnail_columns">
                            <div class="thumbnail" v-for="value in elements" v-bind:id="'alarmCard_' + value.index"
                                v-bind:style="{ background: value.color }">
                                <div class="thumb-count">
                                    <label v-bind:id="'count_' + value.id + value.alarm_type">{{  value.count }}</label>
                                </div>
                                <table>
                                    <tr>
                                        <td>
                                            <img class="member_photo" v-bind:id="'alarmCard_img_' + value.index"
                                                v-bind:src="getPhoto(value) || '../image/no_image.png'">
                                        </td>
                                        <td>
                                            <label>{{ i18n('i_number') }} : <span
                                                    v-bind:id="'alarmCard_number_' + value.index">
                                                    {{ value.number }}</span></label><br>
                                            <label>{{ i18n('i_name') }} : {{ value.name }}</label><br>
                                            <label>{{ i18n('i_userID') }} : {{ value.user_id }}</label><br>
                                            <label>{{ i18n('i_date') }} : <span
                                                    v-bind:id="'date_' + value.id + value.alarm_type">
                                                    {{ value.time_arr[0] }}</span></label><br>
                                            <label>{{ i18n('i_time') }} : <span
                                                    v-bind:id="'time_' + value.id + value.alarm_type">
                                                    {{ value.time_arr[1] }}</span></label>
                                        </td>
                                    </tr>
                                </table>
                                <label style="margin-left:10px; color:white;">
                                    {{ i18n('i_status') }} : {{ i18n(value.status) }}
                                </label>
                                <br>
                                <div style="text-align:center; margin:5px;">
                                    <button type="button" class="btn btn-default" v-bind:title="i18n('i_completed')"
                                        v-bind:id="'alarmCard_unlock_btn_' + value.index" v-on:click="unlock(value)">
                                        <img class="icon-image" src="../image/complete.png"> </button>
                                    <button type="button" class="btn btn-default" style="margin-left: 10px;"
                                        v-bind:title="i18n('i_releasePosition')" v-on:click="unlockFocusAlarm()">
                                        <img class="icon-image" src="../image/release_position.png"> </button>
                                    <button type="button" class="btn btn-default" style="margin-left: 10px;"
                                        v-bind:title="i18n('i_locate')" v-bind:id="'thumb_focus_btn_id' + value.index"
                                        v-on:click="focus(value)">
                                        <img class="icon-image" src="../image/target.png"> </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Midden-->
                <div id="content"></div>

                <!--Right (Data) Sidebar-->
                <div class="page-main" id="page_rightSide">
                    <aside>
                        <div class="main-place">
                            <ul id="sidebarRightTab" class="nav nav-tabs">
                                <li class="active">
                                    <a href="#sidebar_right_member" data-toggle="tab" class="i18n" name="i_member"></a>
                                </li>
                                <li><a href="#sidebar_right_alarm" data-toggle="tab" class="i18n"
                                        name="i_alarmHandle"></a>
                                </li>
                                <li><a href="#sidebar_right_search" data-toggle="tab" class="i18n" name="i_search"></a>
                                </li>
                            </ul>
                            <div id="sidebarRightTabContent" class="tab-content">
                                <div class="tab-pane fade in active" id="sidebar_right_member" style="margin-top:10px;">
                                    <span class="i18n" name="i_search"></span>：<input type="search"
                                        id="table_filter_member" class="light-table-filter i18n-input"
                                        data-table="order-table" selectattr="placeholder" selectname="i_inputKeyword" />
                                    <button class="btn btn-default i18n-input" selectattr="title"
                                        selectname="i_releasePosition" id="btn_release_focus_sidebar"
                                        onclick="unlockFocusAlarm();"
                                        style="float:right; padding:5px !important; margin-right:10px;">
                                        <img class="icon-image" src="../image/release_position.png">
                                    </button>
                                    <div class="sidebar-table member-table">
                                        <table id="table_rightbar_member_list" class="order-table" style="width:300px;">
                                            <thead>
                                                <tr>
                                                    <th class="i18n" name="i_item"></th>
                                                    <th class="i18n" name="i_userID" style="width:70px;"></th>
                                                    <th class="i18n" name="i_number"></th>
                                                    <th class="i18n" name="i_name"></th>
                                                    <th class="i18n" name="i_locate" style="width:30px;"></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr v-for="(value, index) in infos">
                                                    <td>{{ index + 1 }}</td>
                                                    <td>{{ value.user_id }}</td>
                                                    <td>{{ value.number }}</td>
                                                    <td>{{ value.name }}</td>
                                                    <td><button class="btn btn-default btn-focus"
                                                            v-on:click="locate(value.tag_id)">
                                                            <img class="icon-image" src="../image/target.png"></button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="sidebar_right_alarm">
                                    <div class="sidebar-table alarm-table">
                                        <table id="table_rightbar_alarm_list" style="width:600px;">
                                            <thead>
                                                <tr>
                                                    <th class="i18n" name="i_item"></th>
                                                    <th class="i18n" name="i_alarmStatus"></th>
                                                    <th class="i18n" name="i_userID" style="width:70px;"></th>
                                                    <th class="i18n" name="i_number" style="width:70px;"></th>
                                                    <th class="i18n" name="i_name" style="width:70px;"></th>
                                                    <th class="i18n" name="i_executor"></th>
                                                    <th class="i18n" name="i_time" style="width:160px;"></th>
                                                </tr>
                                            </thead>
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="sidebar_right_search">
                                    <label class="i18n" name="i_searchType" style="margin-top:10px;"></label> :
                                    <select id="search_select_type">
                                        <option class="i18n" name="i_map" value="map" selected="selected"></option>
                                        <option class="i18n" name="i_userID" value="user_id">
                                        </option>
                                        <option class="i18n" name="i_number" value="number">
                                        </option>
                                    </select>
                                    <br>
                                    <label class="i18n" name="i_inputData" style="margin-top:10px;"></label> :
                                    <input type="text" id="search_input_target">
                                    <br><br>
                                    <div style="text-align: center;">
                                        <input type="button" id="search_start" class="btn btn-primary i18n-input"
                                            selectattr="value" selectname="i_search">
                                    </div>
                                    <br><br>
                                    <div class="sidebar-table search-table" style="max-height: 500px;">
                                        <table id="table_sidebar_search" style="width: 700px;">
                                            <thead>
                                                <tr>
                                                    <th class="i18n" name="i_userID"></th>
                                                    <th class="i18n" name="i_number"></th>
                                                    <th class="i18n" name="i_name"></th>
                                                    <th class="i18n" name="i_dept"></th>
                                                    <th class="i18n" name="i_jobTitle"></th>
                                                    <th class="i18n" name="i_userType"></th>
                                                    <!--<th class="i18n" name="i_alarmGroup"></th>-->
                                                    <th class="i18n" name="i_locate" style="width:30px;"></th>
                                                </tr>
                                            </thead>
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </aside>
                </div>
            </div>
        </div>
    </div>
    <!--Hidden Dialog-->
    <div class="hidden_dialog">
        <!--Modal-->
        <div class="alert_block" id="alert_window">
            <label class="i18n" name="i_alarmLocate_1"></label>
        </div>

        <!--The dialog of tag's infomation-->
        <div id="member_dialog" class="dialog" title="Tag Infomation" style="background:rgb(195, 228, 230);">
            <img id="member_dialog_image" class="member_photo" src="" style="margin-right:10px;">
            <span style="display: block;">
                <label class="i18n" name="i_number"></label> :
                <label id="member_dialog_number"></label>
                <br>
                <label class="i18n" name="i_name"></label> :
                <label id="member_dialog_name"></label>
                <br>
                <label class="i18n" name="i_userID"></label> :
                <label id="member_dialog_tag_id"></label>
            </span>
            <br>
            <div style="text-align: center;">
                <button id="member_dialog_btn_unlock" class="btn btn-default i18n-input" selectattr="title"
                    selectname="i_releasePosition"><img class="icon-image" src="../image/release_position.png">
                </button>
                <button id="member_dialog_btn_focus" style="margin-left: 20px;" class="btn btn-default i18n-input"
                    selectattr="title" selectname="i_locate">
                    <img class="icon-image" src="../image/target.png">
                </button>
            </div>
        </div>
        <!--The dialog of alarm-->
        <div id="alarm_dialog" class="dialog" title="Alarm Infomation">
            <table class="noborder-block">
                <tr>
                    <td>
                        <img id="alarm_dialog_image" class="member_photo" src="">
                    </td>
                    <td>
                        <span style="display: block;">
                            <label class="i18n" name="i_number"></label> :
                            <label id="alarm_dialog_number"></label>
                            <br>
                            <label class="i18n" name="i_name"></label> :
                            <label id="alarm_dialog_name"></label>
                            <br>
                            <label class="i18n" name="i_userID"></label> :
                            <label id="alarm_dialog_id"></label>
                            <br>
                            <label class="i18n" name="i_date"></label> :
                            <label id="alarm_dialog_date"></label>
                            <br>
                            <label class="i18n" name="i_time"></label> :
                            <label id="alarm_dialog_time"></label>
                        </span>
                    </td>
                </tr>
            </table>
            <h4>
                <label class="i18n" name="i_status"></label> :
                <label id="alarm_dialog_status"></label>
            </h4>
            <div style="text-align: center;">
                <button id="alarm_dialog_btn_unlock" class="btn btn-default i18n-input" selectattr="title"
                    selectname="i_releasePosition"><img class="icon-image" src="../image/release_position.png">
                </button>
                <button id="alarm_dialog_btn_focus" style="margin-left: 20px;" class="btn btn-default i18n-input"
                    selectattr="title" selectname="i_locate">
                    <img class="icon-image" src="../image/target.png">
                </button>
            </div>
        </div>

        <!--The dialog of adjusting the focus mode-->
        <div id="adjust_focus_mode" class="dialog" title="Adjust focus mode">
            <table class="noborder-block">
                <tr>
                    <td><label class="i18n" name="i_focusCenterMove"></label></td>
                    <td>
                        <div class="wrapper">
                            <input type="checkbox" id="chk_lock_window">
                            <label for="chk_lock_window"><span></span></label>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><label class="i18n" name="i_autoAdjustMap"></label></td>
                    <td>
                        <div class="wrapper">
                            <input type="checkbox" id="chk_fit_window">
                            <label for="chk_fit_window"><span></span></label>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><label class="i18n" name="i_displayFenceArea"></label></td>
                    <td>
                        <div class="wrapper">
                            <input type="checkbox" id="chk_display_fence">
                            <label for="chk_display_fence"><span></span></label>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><label class="i18n" name="i_displayNoPosition"></label></td>
                    <td>
                        <div class="wrapper">
                            <input type="checkbox" id="chk_display_no_position">
                            <label for="chk_display_no_position"><span></span></label>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><label class="i18n" name="i_displayLowPowerAlarm"></label></td>
                    <td>
                        <div class="wrapper">
                            <input type="checkbox" id="chk_alarm_low_power">
                            <label for="chk_alarm_low_power"><span></span></label>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><label class="i18n" name="i_displayActiveAlarm"></label></td>
                    <td>
                        <div class="wrapper">
                            <input type="checkbox" id="chk_alarm_active">
                            <label for="chk_alarm_active"><span></span></label>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><label class="i18n" name="i_displayStillAlarm"></label></td>
                    <td>
                        <div class="wrapper">
                            <input type="checkbox" id="chk_alarm_still">
                            <label for="chk_alarm_still"><span></span></label>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td><label class="i18n" name="i_smoothDisplay"></label></td>
                    <td>
                        <div class="wrapper">
                            <input type="checkbox" id="chk_smooth_display">
                            <label for="chk_smooth_display"><span></span></label>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><label class="i18n" name="i_tagLaunchTime"></label></td>
                    <td><label id="smooth_launch_time" style="color:rgb(45, 158, 82);"></label> ms
                    </td>
                </tr>
            </table>
            <input id="slider_launch_time" type="range" class="slider" min="100" max="3000" value="100">
        </div>

        <!--The dialog of controling display dot size-->
        <div id="displsy_size_dialog" class="dialog" title="Set the size of object">
            <label class="i18n" name="i_anchorIconSize"> : </label>
            <span id="anchor_size" style="color:rgb(45, 158, 82);"></span><br>
            <input id="slider_anchor_size" type="range" class="slider" min="2" max="20" value="10">
            <br>
            <label class="i18n" name="i_tagIconSize"> : </label>
            <span id="tag_size" style="color:rgb(45, 158, 82);"></span><br>
            <input id="slider_tag_size" type="range" class="slider" min="2" max="20" value="10">
            <br>
            <label class="i18n" name="i_alarmIconSize"> : </label>
            <span id="alarm_size" style="color:rgb(45, 158, 82);"></span><br>
            <input id="slider_alarm_size" type="range" class="slider" min="2" max="20" value="14">
            <br>
            <canvas id="canvas_display_size"></canvas>
        </div>

        <!--The dialog of select the multi-window mode-->
        <div id="separate_canvas_dialog" class="dialog" title="Select the multi-window mode">
            <label class="i18n" name="i_multiWindowMode"></label> : <select id="select_canvas_mode">
                <option value="1">Mode 1</option>
                <option value="2_v">Mode 2</option>
                <option value="2_h">Mode 3</option>
                <option value="4">Mode 4</option>
                <option value="6">Mode 5</option>
            </select>
            <br>
            <table class="noborder-block canvas-modes">
                <tr>
                    <td>
                        <label for="btn_sel_mode1" class="btn-mode">
                            <i>Mode 1</i><img src="../image/blocks_one.png" /></label>
                        <input id="btn_sel_mode1" type="button" class="btn-hidden" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="btn_sel_mode2" class="btn-mode">
                            <i>Mode 2</i><img src="../image/blocks_two_v.png" /></label>
                        <input id="btn_sel_mode2" type="button" class="btn-hidden" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="btn_sel_mode3" class="btn-mode">
                            <i>Mode 3</i><img src="../image/blocks_two_h.png" /></label>
                        <input id="btn_sel_mode3" type="button" class="btn-hidden" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="btn_sel_mode4" class="btn-mode">
                            <i>Mode 4</i><img src="../image/blocks_four.png" /></label>
                        <input id="btn_sel_mode4" type="button" class="btn-hidden" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="btn_sel_mode5" class="btn-mode">
                            <i>Mode 5</i><img src="../image/blocks_six.png" /></label>
                        <input id="btn_sel_mode5" type="button" class="btn-hidden" />
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <!--i18n translation-->
    <script type="text/javascript" src="../js/i18n/jquery.i18n.properties.js"></script>
    <script type="text/javascript" src="../js/i18n/language.js"></script>
    <!-- Vue.js -->
    <script type="text/javascript" src="../js/import/vue.js"></script>
    <!--<script src="https://cdn.jsdelivr.net/npm/vue"></script>-->
    <!--開發版本
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>-->
    <script type="text/javascript" src="../js/import/axios.min.js"></script>
    <!--<script src="https://unpkg.com/axios/dist/axios.min.js"></script>-->
</body>

</html>